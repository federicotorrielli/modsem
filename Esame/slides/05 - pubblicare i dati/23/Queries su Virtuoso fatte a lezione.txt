Queries su Virtuoso fatte a lezione

# ISTRUZIONI

# 1. caricare cinema2.ttl nel grafo http://localhost:8890/DAV/cinema2

# 2. caricare citta2.ttl nel grafo http://localhost:8890/DAV/citta2 

# 3. facoltativo: mappare il prefisso  cinema2 sul namespace http://www.modsem.org/cinema2 e

# il prefisso citta2 sul namespace http://www.modsem.org/citta2 

# (per maggiore chiarezza nelle query di questo esempio si usano direttamente gli URI delle risorse


# 1. utilizzo degli URI nelle query

SELECT DISTINCT ?p 

WHERE { 

  <http://www.modsem.org/cinema2#IPredatoriDellArcaPerduta> <http://www.modsem.org/cinema2#haPersonaggio> ?p.

}

--> http://www.modsem.org/cinema2#IndianaJones


# 2. in quale città è ambientato il film I predatori dell'arca perduta (la città appartiene a un diverso namespace, http://www.modsem.org/citta2) 

SELECT ?p  ?c

WHERE { 

  <http://www.modsem.org/cinema2#IPredatoriDellArcaPerduta>     

  <http://www.modsem.org/cinema2#haPersonaggio> ?p ;

  <http://www.modsem.org/cinema2#ambientatoIn> ?c .

}


Anche SELECT DISTINCT ?p  ?c

WHERE { 

  cinema2:IPredatoriDellArcaPerduta cinema2:haPersonaggio ?p ;

  cinema2:ambientatoIn ?c .

}

--> http://www.modsem.org/cinema2#IndianaJones

     http://www.modsem.org/citta2#Londra



# 3. query sul namespace citta2 

SELECT ?co

WHERE { 

  <http://www.modsem.org/citta2#Londra>  <http://www.modsem.org/citta2#situatoInContinente> ?co.

}


# 4. utilizzo di FROM in SPARQL - Attenzione, si usa l'URI del grafo (http://localhost:8890/DAV/cinema2), non il namespace o il base IRI

SELECT ?p  ?c 

FROM <http://localhost:8890/DAV/cinema2>

WHERE 

{ 

  <http://www.modsem.org/cinema2#IPredatoriDellArcaPerduta> 

  <http://www.modsem.org/cinema2#haPersonaggio> ?p ;

  <http://www.modsem.org/cinema2#ambientatoIn> ?c .

}


# 5. query annidata su grafi diversi (?c ha stesso URI nei due grafi)

# in quale continente sono ambientati i film?

SELECT ?f ?c ?co

FROM <http://localhost:8890/DAV/cinema2>

WHERE { 

?f <http://www.modsem.org/cinema2#haPersonaggio> ?p ; 

   <http://www.modsem.org/cinema2#ambientatoIn> ?c .

     

   {SELECT ?c ?co

   FROM <http://localhost:8890/DAV/citta2>

   WHERE { 

     ?c <http://www.modsem.org/citta2#situatoInContinente> ?co.}

    }

}

--> restituisce anche città e continente del film

Ultime modifiche: venerdì, 11 dicembre 2020, 17:00